# Egg.jsé¡¹ç›®éƒ¨ç½²æ–¹æ³•

åœ¨é¡¹ç›®å¼€å‘ç»“æŸæ®µè½éœ€è¦éƒ¨ç½²ï¼Œéƒ¨ç½²æ— éœ€ `pm2` è¿™æ ·çš„åŒ…ç®¡ç†å™¨ï¼Œç›´æ¥ä½¿ç”¨`egg`å†…ç½®çš„æ’ä»¶å³å¯ï¼Œç°åœ¨å°±å¼€å§‹å§ï¼

### æ‰“åŒ…æ„å»º

`javascript`æœ¬ä¸éœ€è¦ç¼–è¯‘ï¼Œä½†å½“ä½¿ç”¨`typescript`æˆ–`es6`ä»¥ä¸Šç‰ˆæœ¬æ—¶å°±å¿…é¡»å°±å¿…é¡»è¿™æ ·æ„å»ºäº†ã€‚

```bash
# è¿›å…¥åˆ°å¯¹åº”é¡¹ç›®æ ¹ç›®å½•ä¸‹
cd baseDir
# å®‰è£…ç”Ÿäº§ç¯å¢ƒä¸‹ä¾èµ–
npm install --production
# æ„å»ºå®Œæˆåæ‰“åŒ… ğŸ“¦
tar -zcvf ../release.tgz .
zip -zcvf ../release.zip .
zip -r -q -o pack.zip mark/
```

æ‰“åŒ…å®Œæˆåä¼šç”Ÿæˆä¸€ä¸ª` release.tgz` æ–‡ä»¶,ç›´æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå¥”è·‘å§ï¼Œå…„å¼Ÿï¼

### éƒ¨ç½²

- `egg-cluster`å¯åŠ¨`master`è¿›ç¨‹
- `egg-scripts`å¯ä»¥åšçº¿ä¸Šç¯å¢ƒçš„è¿è¡Œå’Œåœæ­¢,ç°åœ¨ç«‹åˆ»ä¸‹è½½` egg-scripts`

```bash
npm i egg-scripts --save
```

- å†é…ç½®package.jsonæ–‡ä»¶,å¦‚æœæ˜¯ä½¿ç”¨è„šæ‰‹æ¶ï¼Œé‚£ä¹ˆè¯·å¿½ç•¥è¿™ä¸€æ­¥éª¤

```js
{
  "scripts": {
    "start": "egg-scripts start --daemon",
    "stop": "egg-scripts stop"
  }
}
```

- å¯åŠ¨å‘½ä»¤

```bash
egg-scripts start --port=7001 --daemon --title=egg-server-showcase
```

è¯¦æƒ…è¯·è§ [å®˜ç½‘](https://eggjs.org/zh-cn/core/deployment.html)

- åœæ­¢å‘½ä»¤

```bash
egg-scripts stop [--title=egg-server]
```

